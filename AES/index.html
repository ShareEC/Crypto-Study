<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
	<link rel="stylesheet" href="../assets/css/style.css">
    <title>AES í•¨ìˆ˜ í˜¸ì¶œ êµ¬ì¡°ë„ (Final)</title>
    <style>
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            background-color: #f8f9fa;
            display: flex;
            flex-direction: column;
            align-items: center;
            padding: 20px;
            margin: 0;
        }
        h1 {
            color: #333;
            margin-bottom: 20px;
        }
        .diagram-container {
            background-color: white;
            box-shadow: 0 4px 6px rgba(0,0,0,0.1);
            border-radius: 8px;
            padding: 20px;
            width: fit-content;
            min-width: 1200px; 
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        svg { display: block; }
        text { font-family: 'Consolas', 'Monaco', monospace; font-size: 14px; fill: #333; }
        .title-text { font-family: 'Segoe UI', sans-serif; font-weight: bold; font-size: 16px; }
        .label-text { font-family: 'Segoe UI', sans-serif; font-size: 12px; fill: #666; }
        
        .box { stroke-width: 2; rx: 5; ry: 5; filter: drop-shadow(2px 2px 2px rgba(0,0,0,0.1)); }
        .line { stroke: #555; stroke-width: 2; fill: none; stroke-linejoin: round; stroke-linecap: round; }
        .data-line { stroke-width: 1.5; fill: none; stroke-dasharray: 5 3; stroke-linejoin: round; stroke-linecap: round; }
        /* GF Dependency Line Style */
        .gf-line { stroke: #0288d1; stroke-width: 2; fill: none; stroke-dasharray: 4 2; stroke-linejoin: round; stroke-linecap: round; opacity: 0.7; }
        
        .arrow-head { fill: #555; }
        .arrow-head-data { fill: #999; }

        /* Groups */
        .group-main { fill: #333; stroke: #000; }
        .text-main { fill: #fff; font-weight: bold; font-size: 16px; }
        .group-pre { fill: #eceff1; stroke: #607d8b; } 
        .group-init { fill: #e3f2fd; stroke: #2196f3; }
        .group-key { fill: #fff3e0; stroke: #ff9800; }
        .group-enc { fill: #e8f5e9; stroke: #4caf50; }
        .group-dec { fill: #f3e5f5; stroke: #9c27b0; }
        
        .func-box { fill: #fff; stroke: #666; stroke-width: 1; }
        .math-box { fill: #f5f5f5; stroke: #999; stroke-dasharray: 4; }
        .cond-box { fill: #fff8e1; stroke: #ffb74d; stroke-dasharray: 2; }
        .table-box { fill: #fff; stroke: #607d8b; stroke-width: 2; font-weight: bold; } 

        /* Bottom Layout */
        .bottom-layout { margin-top: 0; padding-top: 15px; border-top: 1px solid #eee; width: 100%; display: flex; flex-direction: row; gap: 20px; }
        .legend-box { flex: 1; display: flex; flex-direction: column; align-items: flex-start; }
        .legend-title { font-size: 16px; font-weight: bold; color: #455a64; margin-bottom: 15px; display: flex; align-items: center; gap: 8px; }
        .legend-grid { display: grid; grid-template-columns: repeat(2, 1fr); gap: 15px; width: 100%; }
        .legend-item { display: flex; align-items: flex-start; font-size: 13px; color: #555; line-height: 1.5; background-color: #fcfcfc; padding: 12px; border-radius: 6px; border: 1px solid #eee; }
        .legend-icon { margin-right: 15px; font-family: 'Consolas', monospace; font-weight: bold; min-width: 90px; text-align: right; }

        /* Modes Link Box */
        .modes-link-container { width: 320px; display: flex; flex-direction: column; }
        .modes-box { background-color: #eff6ff; border: 2px solid #1e3a8a; border-radius: 8px; padding: 15px; height: 100%; display: flex; flex-direction: column; justify-content: center; align-items: center; text-decoration: none; transition: all 0.2s ease; position: relative; overflow: hidden; }
        .modes-box:hover { transform: translateY(-2px); box-shadow: 0 4px 12px rgba(30, 58, 138, 0.2); background-color: #dbeafe; }
        .modes-title { font-size: 16px; font-weight: bold; color: #1e3a8a; margin-bottom: 8px; }
        .modes-desc { font-size: 12px; color: #1e40af; text-align: center; margin-bottom: 12px; line-height: 1.4; }
        .modes-visual { display: flex; gap: 5px; margin-top: 5px; }
        .mini-block { width: 25px; height: 35px; border: 1px solid #1e3a8a; background: white; border-radius: 3px; display: flex; align-items: center; justify-content: center; font-size: 10px; color: #1e3a8a; }

        /* Interaction */
        a { cursor: pointer; outline: none; }
        a:hover .box, a:hover .func-box, a:hover .math-box, a:hover .table-box { stroke-width: 3px; filter: drop-shadow(0 4px 6px rgba(0,0,0,0.2)); transition: all 0.2s ease; }
        a.link-gf:hover .math-box, a.link-gf:hover .table-box { stroke: #1565c0; fill: #e3f2fd; }
        a.link-sbox:hover .math-box, a.link-sbox:hover .table-box { stroke: #d84315; fill: #fbe9e7; }
        a.link-key:hover .box { stroke: #e65100; fill: #ffe0b2; }
        a.link-init:hover .box { stroke: #2196f3; fill: #bbdefb; }
        a.link-enc-step3:hover .func-box { stroke: #2e7d32; fill: #a5d6a7; }
        a.link-enc-step4:hover .func-box, a.link-enc-step4:hover rect[fill="none"] { stroke: #1b5e20; fill: #c8e6c9; }
        a.link-dec-step5:hover .func-box, a.link-dec-step5:hover rect[fill="none"] { stroke: #4a148c; fill: #e1bee7; }
        a.link-dec-step5-1:hover .func-box, a.link-dec-step5-1:hover rect[fill="none"] { stroke: #7b1fa2; fill: #f3e5f5; }

        .click-hint { font-size: 10px; fill: #fff; font-family: sans-serif; font-weight: bold; opacity: 0; transition: opacity 0.2s; pointer-events: none; }
        a:hover .click-hint { opacity: 1; }
        .click-badge { fill: #ef4444; opacity: 0; transition: opacity 0.2s; pointer-events: none; }
        a:hover .click-badge { opacity: 1; }
        .badge-tag { font-size: 9px; font-weight: bold; fill: #0277bd; font-family: sans-serif; }
    </style>
</head>
<body>
	<a href="../index.html" class="home-btn">ğŸ  Main Lobby</a>
    <h1>AES Source Code Structure</h1>

    <div class="diagram-container">
        <svg width="1200" height="720" viewBox="0 0 1200 720">
            <defs>
                <marker id="arrow" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" class="arrow-head" /></marker>
                <marker id="arrow-orange" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#f57f17" /></marker>
                <marker id="arrow-green" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#2e7d32" /></marker>
                <marker id="arrow-red" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#c62828" /></marker>
                <marker id="arrow-blue" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#1565c0" /></marker>
                <marker id="arrow-purple" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#9c27b0" /></marker>
                <marker id="arrow-gf" markerWidth="4" markerHeight="3" refX="4" refY="1.5" orient="auto" markerUnits="strokeWidth"><path d="M0,0 L0,3 L4,1.5 z" fill="#0288d1" /></marker>
            </defs>

            <g transform="translate(20, 100)">
                <rect x="0" y="0" width="220" height="460" class="box group-pre" fill-opacity="0.3"/>
                <text x="110" y="25" text-anchor="middle" class="title-text" fill="#455a64">0. ì‚¬ì „ ê³„ì‚° (Static)</text>
                
                <a href="modules/gf_field.html"   class="link-gf">
                    <g>
                        <rect x="35" y="40" width="150" height="30" class="math-box" stroke="#0288d1" stroke-width="2"/>
                        <text x="110" y="60" text-anchor="middle" font-size="12" font-weight="bold" fill="#01579b">GF(2â¸) ìˆ˜í•™ ì—”ì§„</text>
                        <rect x="155" y="30" width="45" height="14" rx="4" class="click-badge" />
                        <text x="177" y="40" text-anchor="middle" class="click-hint">Logic</text>
                    </g>
                </a>

                <path d="M35,55 L20,55 L20,107 L35,107" class="gf-line" marker-end="url(#arrow-gf)" />
                <path d="M20,107 L20,162 L35,162" class="gf-line" marker-end="url(#arrow-gf)" />
                <path d="M20,162 L20,242 L50,242" class="gf-line" marker-end="url(#arrow-gf)" />

                <a href="modules/gf_field.html#gmultGrid"   class="link-gf">
                    <g transform="translate(0, 90)">
                        <rect x="35" y="0" width="150" height="35" class="table-box" />
                        <text x="110" y="23" text-anchor="middle" fill="#1565c0">gmult_aes[]</text>
                        <text x="180" y="5" class="badge-tag">GF</text> <rect x="155" y="-10" width="45" height="14" rx="4" class="click-badge" />
                        <text x="177" y="0" text-anchor="middle" class="click-hint">Table</text>
                    </g>
                </a>

                <a href="modules/rcon.html"   class="link-gf">
                    <g transform="translate(0, 145)">
                        <rect x="35" y="0" width="150" height="35" class="table-box" />
                        <text x="110" y="23" text-anchor="middle" fill="#e65100">Rcon[]</text>
                        <text x="175" y="5" class="badge-tag">x2</text> <rect x="155" y="-10" width="45" height="14" rx="4" class="click-badge" />
                        <text x="177" y="0" text-anchor="middle" class="click-hint">ë°°ì—´</text>
                    </g>
                </a>
                
                <g transform="translate(0, 230)">
                    <text x="110" y="-10" text-anchor="middle" font-size="10" fill="#666">â–¼ S-Box ìƒì„± (GF ì‘ìš©)</text>
                    <a href="modules/s_box_2.html"   class="link-sbox">
                        <g>
                            <rect x="50" y="0" width="120" height="25" class="math-box" />
                            <text x="110" y="17" text-anchor="middle" font-size="11">1. ì—­ì› êµ¬í•˜ê¸°</text>
                            <text x="165" y="5" class="badge-tag">&lt;GF Inv&gt;</text>
                        </g>
                    </a>
                    <line x1="110" y1="25" x2="110" y2="35" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    <a href="modules/s_box_3.html"   class="link-sbox">
                        <g>
                            <rect x="50" y="35" width="120" height="25" class="math-box" />
                            <text x="110" y="52" text-anchor="middle" font-size="11">2. ì•„í•€ ë³€í™˜</text>
                            <text x="165" y="40" class="badge-tag">&lt;Matrix&gt;</text>
                        </g>
                    </a>
                    <line x1="110" y1="60" x2="110" y2="70" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    <a href="modules/s_box_1.html"   class="link-sbox">
                        <g>
                            <rect x="35" y="70" width="150" height="35" class="table-box" />
                            <text x="110" y="93" text-anchor="middle" fill="#d84315">s_box[256]</text>
                            <rect x="155" y="60" width="45" height="14" rx="4" class="click-badge" />
                            <text x="177" y="70" text-anchor="middle" class="click-hint">ë°°ì—´</text>
                        </g>
                    </a>
                    <a href="modules/inv_sbox.html"   class="link-sbox">
						<g>
							<rect x="35" y="115" width="150" height="35" class="table-box" />
							<text x="110" y="138" text-anchor="middle" fill="#6a1b9a">inv_s_box[256]</text>
							<rect x="155" y="105" width="45" height="14" rx="4" class="click-badge" />
							<text x="177" y="115" text-anchor="middle" class="click-hint">ë°°ì—´</text>
						</g>
					</a>
                </g>
            </g>

            <g transform="translate(685, 20)">
                <a href="https://github.com/dhuertas/AES" target="_blank">
                    <rect x="-60" y="0" width="120" height="40" class="box group-main" />
                    <text x="0" y="25" text-anchor="middle" class="text-main">main()</text>
                    <title>Click to view Source Code (dhuertas/AES)</title> </a>
            </g>

            <path d="M685,60 L685,80 L360,80 L360,100" class="line" marker-end="url(#arrow)"/> <path d="M685,60 L685,80 L590,80 L590,100" class="line" marker-end="url(#arrow)"/> <path d="M685,60 L685,80 L810,80 L810,100" class="line" marker-end="url(#arrow)"/> <path d="M685,60 L685,80 L1030,80 L1030,100" class="line" marker-end="url(#arrow)"/> 
            
            <a href="modules/init.html"   class="link-init">
                <g transform="translate(260, 100)">
                    <rect x="0" y="0" width="200" height="120" class="box group-init" fill-opacity="0.3"/>
                    <text x="100" y="25" text-anchor="middle" class="title-text" fill="#1565c0">1. ì´ˆê¸°í™” (Init)</text>
                    <rect x="155" y="10" width="35" height="20" rx="4" class="click-badge" />
                    <text x="172" y="24" text-anchor="middle" class="click-hint" font-size="12">Step 1</text>
                    <rect x="40" y="40" width="120" height="30" class="func-box" />
                    <text x="100" y="60" text-anchor="middle">aes_init()</text>
                    <rect x="40" y="80" width="120" height="30" class="func-box" />
                    <text x="100" y="100" text-anchor="middle">malloc()</text>
                    <line x1="100" y1="70" x2="100" y2="80" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                </g>
            </a>

            <a href="modules/roundkey_ex.html"   class="link-key">
                <g transform="translate(490, 100)">
                    <rect x="0" y="0" width="200" height="420" class="box group-key" fill-opacity="0.3"/>
                    <text x="100" y="25" text-anchor="middle" class="title-text" fill="#ef6c00">2. í‚¤ í™•ì¥</text>
                    <rect x="155" y="10" width="35" height="20" rx="4" class="click-badge" />
                    <text x="172" y="24" text-anchor="middle" class="click-hint" font-size="12">Step 2</text>
                    <rect x="30" y="40" width="140" height="30" class="func-box" stroke="#e65100" stroke-width="2"/>
                    <text x="100" y="60" text-anchor="middle" font-weight="bold">aes_key_expansion</text>
                    <g transform="translate(40, 85)">
                        <rect x="0" y="0" width="120" height="25" class="func-box" stroke-dasharray="2 2"/>
                        <text x="60" y="17" text-anchor="middle" font-size="11">ì´ˆê¸° í‚¤ ë³µì‚¬</text>
                    </g>
                    <rect x="15" y="125" width="170" height="280" rx="5" ry="5" fill="none" stroke="#ef6c00" stroke-dasharray="5 3" />
                    <text x="100" y="140" text-anchor="middle" class="label-text" fill="#e65100">ì›Œë“œ ìƒì„± ë£¨í”„</text>
                    <g transform="translate(25, 155)">
                        <rect x="0" y="0" width="150" height="175" class="cond-box" />
                        <text x="75" y="15" text-anchor="middle" class="label-text" fill="#e65100">if (i % Nk == 0)</text>
                        <g transform="translate(25, 25)">
                            <rect x="0" y="0" width="100" height="25" class="func-box" /><text x="50" y="17" text-anchor="middle" font-size="12">rot_word</text>
                            <rect x="0" y="35" width="100" height="25" class="func-box" /><text x="50" y="52" text-anchor="middle" font-size="12">sub_word</text>
                            <rect x="0" y="70" width="100" height="25" class="math-box" /><text x="50" y="87" text-anchor="middle" font-size="12">Rcon</text>
                            <rect x="0" y="105" width="100" height="25" class="math-box" /><text x="50" y="122" text-anchor="middle" font-size="12">coef_add</text>
                            <line x1="50" y1="25" x2="50" y2="35" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                            <line x1="50" y1="60" x2="50" y2="70" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                            <line x1="50" y1="95" x2="50" y2="105" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                        </g>
                    </g>
                    <g transform="translate(50, 345)">
                        <rect x="0" y="0" width="100" height="25" class="func-box" style="stroke-dasharray: 2 2;" />
                        <text x="50" y="17" text-anchor="middle" font-size="11">XOR (w[i-Nk])</text>
                        <text x="50" y="45" text-anchor="middle" font-size="12" font-weight="bold">w[i] ìƒì„±</text>
                    </g>
                    <line x1="100" y1="70" x2="100" y2="85" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    <line x1="100" y1="110" x2="100" y2="125" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    <line x1="100" y1="330" x2="100" y2="345" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                </g>
            </a>

            <g transform="translate(720, 100)">
                <rect x="0" y="0" width="180" height="580" class="box group-enc" fill-opacity="0.3"/>
                <text x="90" y="25" text-anchor="middle" class="title-text" fill="#2e7d32">3. ì•”í˜¸í™”</text>
                
                <a href="modules/insert_data.html"   class="link-enc-step3">
                    <g transform="translate(20, 50)">
                        <rect x="0" y="0" width="140" height="30" class="func-box" stroke-dasharray="2 2" stroke="#2e7d32" stroke-width="2"/>
                        <text x="70" y="20" text-anchor="middle" font-weight="bold" font-size="12">í–‰ë ¬ êµ¬ì„±[4X4]</text>
                        <rect x="100" y="-10" width="40" height="16" rx="3" class="click-badge" style="opacity:1; fill:#4caf50;" />
                        <text x="120" y="2" text-anchor="middle" font-size="10" fill="white" style="pointer-events:none;">S 3-1</text>
                    </g>
                </a>

                <line x1="90" y1="80" x2="90" y2="95" class="line" stroke-width="1" marker-end="url(#arrow)"/>

                <a href="modules/encryption.html"   class="link-enc-step4">
                    <g transform="translate(0, 0)">
                        <rect x="20" y="100" width="140" height="30" class="func-box" stroke="#2e7d32" stroke-width="2"/>
                        <text x="90" y="120" text-anchor="middle" font-weight="bold">aes_cipher</text>
                        <rect x="120" y="90" width="40" height="16" rx="3" class="click-badge" style="opacity:1; fill:#2e7d32;" />
                        <text x="140" y="102" text-anchor="middle" font-size="10" fill="white" style="pointer-events:none;">S 3-2</text>

                        <g transform="translate(30, 145)">
                            <rect x="0" y="0" width="120" height="25" class="func-box" />
                            <text x="60" y="17" text-anchor="middle" font-size="12">add_round_key</text>
                        </g>

                        <rect x="15" y="185" width="150" height="230" rx="5" ry="5" fill="none" stroke="#4caf50" stroke-dasharray="5 3" />
                        <text x="90" y="200" text-anchor="middle" class="label-text" fill="#2e7d32">ë¼ìš´ë“œ ë£¨í”„</text>

                        <g transform="translate(30, 210)">
                            <rect x="0" y="0" width="120" height="25" class="func-box" /><text x="60" y="17" text-anchor="middle" font-size="12">sub_bytes</text>
                            <rect x="0" y="35" width="120" height="25" class="func-box" /><text x="60" y="52" text-anchor="middle" font-size="12">shift_rows</text>
                            <rect x="0" y="70" width="120" height="25" class="func-box" /><text x="60" y="87" text-anchor="middle" font-size="12">mix_columns</text>
                            <g transform="translate(20, 100)">
                                <path d="M40,0 L40,10" class="line" stroke-width="1" />
                                <rect x="0" y="10" width="80" height="20" class="math-box" />
                                <text x="40" y="24" text-anchor="middle" font-size="10">coef_mult</text>
                                <rect x="10" y="35" width="60" height="20" class="math-box" />
                                <text x="40" y="49" text-anchor="middle" font-size="10">gmult</text>
                            </g>
                            <rect x="0" y="165" width="120" height="25" class="func-box" /><text x="60" y="182" text-anchor="middle" font-size="12">add_round_key</text>
                        </g>

                        <g transform="translate(30, 435)">
                            <text x="60" y="-5" text-anchor="middle" class="label-text">ë§ˆì§€ë§‰ ë¼ìš´ë“œ</text>
                            <rect x="0" y="5" width="120" height="25" class="func-box" /><text x="60" y="22" text-anchor="middle" font-size="12">sub_bytes</text>
                            <rect x="0" y="40" width="120" height="25" class="func-box" /><text x="60" y="57" text-anchor="middle" font-size="12">shift_rows</text>
                            <rect x="0" y="75" width="120" height="25" class="func-box" /><text x="60" y="92" text-anchor="middle" font-size="12">add_round_key</text>
                        </g>
                        
                        <line x1="90" y1="130" x2="90" y2="145" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="90" y1="170" x2="90" y2="185" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="90" y1="415" x2="90" y2="435" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    </g>
                </a>
            </g>

            <g transform="translate(940, 100)">
                <rect x="0" y="0" width="180" height="580" class="box group-dec" fill-opacity="0.3"/>
                <text x="90" y="25" text-anchor="middle" class="title-text" fill="#6a1b9a">4. ë³µí˜¸í™”</text>
                
                <a href="modules/decryption.html"   class="link-dec-step5">
                    <g>
                        <rect x="20" y="40" width="140" height="30" class="func-box" stroke="#6a1b9a" stroke-width="2"/>
                        <text x="90" y="60" text-anchor="middle" font-weight="bold">aes_inv_cipher</text>
                        
                        <rect x="120" y="30" width="40" height="16" rx="3" class="click-badge" style="opacity:1; fill:#9c27b0;" />
                        <text x="140" y="42" text-anchor="middle" font-size="10" fill="white" style="pointer-events:none;">S 4</text>

                        <g transform="translate(30, 90)">
                            <rect x="0" y="0" width="120" height="25" class="func-box" />
                            <text x="60" y="17" text-anchor="middle" font-size="12">add_round_key</text>
                        </g>

                        <rect x="15" y="130" width="150" height="230" rx="5" ry="5" fill="none" stroke="#9c27b0" stroke-dasharray="5 3" />
                        <text x="90" y="145" text-anchor="middle" class="label-text" fill="#6a1b9a">ì—­ ë¼ìš´ë“œ ë£¨í”„</text>
                        
                        <g transform="translate(30, 155)">
                            <rect x="0" y="0" width="120" height="25" class="func-box" /><text x="60" y="17" text-anchor="middle" font-size="12">inv_shift_rows</text>
                            <rect x="0" y="35" width="120" height="25" class="func-box" /><text x="60" y="52" text-anchor="middle" font-size="12">inv_sub_bytes</text>
                            <rect x="0" y="70" width="120" height="25" class="func-box" /><text x="60" y="87" text-anchor="middle" font-size="12">add_round_key</text>
                            <rect x="0" y="105" width="120" height="25" class="func-box" /><text x="60" y="122" text-anchor="middle" font-size="12">inv_mix_columns</text>
                            <g transform="translate(20, 135)">
                                <path d="M40,0 L40,5" class="line" stroke-width="1" />
                                <rect x="0" y="5" width="80" height="20" class="math-box" />
                                <text x="40" y="19" text-anchor="middle" font-size="10">coef_mult</text>
                                <rect x="10" y="30" width="60" height="20" class="math-box" />
                                <text x="40" y="44" text-anchor="middle" font-size="10">gmult</text>
                            </g>
                        </g>

                        <g transform="translate(30, 380)">
                            <rect x="0" y="5" width="120" height="25" class="func-box" /><text x="60" y="22" text-anchor="middle" font-size="12">inv_shift_rows</text>
                            <rect x="0" y="40" width="120" height="25" class="func-box" /><text x="60" y="57" text-anchor="middle" font-size="12">inv_sub_bytes</text>
                            <rect x="0" y="75" width="120" height="25" class="func-box" /><text x="60" y="92" text-anchor="middle" font-size="12">add_round_key</text>
                        </g>
                        
                        <line x1="90" y1="70" x2="90" y2="90" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="90" y1="115" x2="90" y2="130" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                        <line x1="90" y1="360" x2="90" y2="380" class="line" stroke-width="1" marker-end="url(#arrow)"/>
                    </g>
                </a>

                <a href="modules/decryption_prin.html"   class="link-dec-step5-1">
                    <g transform="translate(135, 140)">
                        <circle cx="10" cy="10" r="12" fill="#7b1fa2" stroke="white" stroke-width="2" class="click-badge" style="opacity:1;" />
                        <text x="10" y="14" text-anchor="middle" font-size="12" fill="white" font-weight="bold">?</text>
                        <title>ë³µí˜¸í™” ìˆœì„œ ì›ë¦¬ ë¶„ì„</title>
                    </g>
                </a>

            </g>

            <path d="M220,262 C350,262 450,362 565,362" class="data-line" style="stroke: #f57f17;" marker-end="url(#arrow-orange)"/>
            
            <path d="M220,417 C350,417 450,327 565,327" class="data-line" style="stroke: #2e7d32;" marker-end="url(#arrow-green)"/>
            <path d="M220,417 C400,417 650,322 750,322" class="data-line" style="stroke: #2e7d32;" marker-end="url(#arrow-green)"/>
            
            <path d="M220,207 C450,207 650,392 770,392" class="data-line" style="stroke: #1565c0;" marker-end="url(#arrow-blue)"/>
            
            <path d="M220,462 C400,462 850,302 970,302" class="data-line" style="stroke: #9c27b0;" marker-end="url(#arrow-purple)"/>
        </svg>

        <div class="bottom-layout">
            
            <div class="legend-box">
                <div class="legend-title">
                    <svg width="20" height="10" viewBox="0 0 20 10"><line x1="0" y1="5" x2="14" y2="5" class="data-line" stroke="#999" /><path d="M14,5 L10,6.5 L10,3.5 z" fill="#999" /></svg>
                    ë°ì´í„° ì°¸ì¡° íë¦„ (Pre-calculated Tables)
                </div>
                <div class="legend-grid">
                    <div class="legend-item"><span class="legend-icon" style="color: #d84315;">s_box[]</span><div><strong>â†’ sub_word / sub_bytes</strong><br>S-Box í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ ë°”ì´íŠ¸ ì¹˜í™˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</div></div>
                    <div class="legend-item"><span class="legend-icon" style="color: #6a1b9a;">inv_s_box[]</span><div><strong>â†’ inv_sub_bytes</strong><br>ì—­ S-Box í…Œì´ë¸”ì„ ì°¸ì¡°í•˜ì—¬ ì—­ì¹˜í™˜ì„ ìˆ˜í–‰í•©ë‹ˆë‹¤.</div></div>
                    <div class="legend-item"><span class="legend-icon" style="color: #e65100;">Rcon[]</span><div><strong>â†’ Rcon()</strong><br>ë¯¸ë¦¬ ê³„ì‚°ëœ ë¼ìš´ë“œ ìƒìˆ˜ í…Œì´ë¸”ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.</div></div>
                    <div class="legend-item"><span class="legend-icon" style="color: #1565c0;">gmult_aes[]</span><div><strong>â†’ gmult()</strong><br>ë¯¸ë¦¬ ê³„ì‚°ëœ GF(2â¸) ê³±ì…ˆ í…Œì´ë¸”ì„ ì°¸ì¡°í•©ë‹ˆë‹¤.</div></div>
                </div>
            </div>

            <div class="modes-link-container">
                <a href="modules/aes_mode.html" class="modes-box">
                    <div class="modes-title">AES ëª¨ë“œë³„ êµ¬ì¡°ë„ í™•ì¸ â–¶</div>
                    <div class="modes-desc">
                        ìœ„ì˜ 'ì•”í˜¸í™” ì—”ì§„'ì´ ì‹¤ì œ<br>
                        ECB, CBC, CTR ëª¨ë“œì—ì„œ<br>
                        ì–´ë–»ê²Œ ë°°ì¹˜ë˜ëŠ”ì§€ í™•ì¸í•˜ì„¸ìš”.
                    </div>
                    <div class="modes-visual">
                        <div class="mini-block">ECB</div>
                        <div class="mini-block">CBC</div>
                        <div class="mini-block">CTR</div>
                    </div>
                </a>
            </div>

        </div>
    </div>
</body>

</html>
