<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RSA Theory - ìˆ˜í•™ì  ì›ë¦¬ (Final Logic)</title>
    
    <script src="https://cdn.tailwindcss.com"></script>
    <script src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script>
    <script id="MathJax-script" async src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    
    <link rel="stylesheet" href="../assets/css/style.css">
    
    <style>
        /* Theory Specific Styles */
        .concept-box {
            background: rgba(30, 41, 59, 0.7);
            border: 1px solid #475569;
            border-radius: 12px;
            padding: 2rem;
            margin-bottom: 2rem;
            position: relative;
            overflow: hidden;
        }
        
        /* RSA Context Box */
        .rsa-context {
            background: #172554;
            border: 1px solid #3b82f6;
            border-radius: 8px;
            padding: 1.25rem;
            margin-top: 2rem;
            position: relative;
        }
        .rsa-context::before {
            content: "ğŸ”— RSA ì ìš©";
            position: absolute;
            top: -12px;
            left: 20px;
            background: #3b82f6;
            color: white;
            font-size: 0.75rem;
            font-weight: bold;
            padding: 2px 8px;
            border-radius: 4px;
        }

        /* Grid for Totient */
        .totient-grid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(36px, 1fr));
            gap: 6px;
            margin-top: 1rem;
        }
        .num-box {
            aspect-ratio: 1;
            display: flex;
            align-items: center;
            justify-content: center;
            border-radius: 6px;
            font-weight: bold;
            font-family: monospace;
            transition: all 0.3s;
            cursor: default;
        }
        .num-coprime {
            background: #059669;
            color: #ecfdf5;
            border: 1px solid #10b981;
            box-shadow: 0 0 10px rgba(16, 185, 129, 0.3);
        }
        
        /* Trapdoor Visualization */
        .trapdoor-container {
            display: flex;
            align-items: center;
            justify-content: space-between;
            background: #0f172a;
            padding: 2rem;
            border-radius: 12px;
            border: 1px dashed #334155;
        }
        .arrow-anim {
            font-size: 2rem;
            color: #64748b;
            animation: pulse 2s infinite;
        }
        @keyframes pulse { 0% { opacity: 0.5; transform: scale(0.9); } 50% { opacity: 1; transform: scale(1.1); } 100% { opacity: 0.5; transform: scale(0.9); } }

        /* Scrollbar */
        .custom-scrollbar::-webkit-scrollbar { width: 6px; }
        .custom-scrollbar::-webkit-scrollbar-track { background: #1e293b; }
        .custom-scrollbar::-webkit-scrollbar-thumb { background: #475569; border-radius: 3px; }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover { background: #64748b; }

        .history-card {
            background: #1e293b;
            border: 1px solid #475569;
            border-radius: 8px;
            padding: 1rem;
            text-align: center;
        }
        .history-card strong { color: #facc15; display: block; margin-bottom: 4px; font-size: 1.1rem; }
    </style>
</head>
<body class="custom-scrollbar bg-slate-950 text-slate-200">

    <a href="../index.html" class="home-btn fixed top-6 left-6 z-50 bg-slate-800 px-4 py-2 rounded-full border border-slate-600 hover:bg-slate-700 transition flex items-center gap-2 text-sm text-slate-300">
        <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" fill="currentColor" viewBox="0 0 16 16">
            <path fill-rule="evenodd" d="M11.354 1.646a.5.5 0 0 1 0 .708L5.707 8l5.647 5.646a.5.5 0 0 1-.708.708l-6-6a.5.5 0 0 1 0-.708l6-6a.5.5 0 0 1 .708 0z"/>
        </svg>
        Home
    </a>

    <div class="max-w-4xl mx-auto pt-20 pb-12 px-6">
        
        <header class="text-center mb-16">
            <span class="text-indigo-500 font-bold tracking-wider text-sm uppercase">Prerequisite Class</span>
            <h1 class="text-4xl font-black text-white mt-2 mb-4">RSA Mathematics</h1>
            <p class="text-slate-400">"RSAë¥¼ ì§€íƒ±í•˜ëŠ” 3ê°€ì§€ ìˆ˜í•™ì  ê¸°ë‘¥ê³¼ ê·¸ ì—°ê²° ê³ ë¦¬ë¥¼ ì´í•´í•©ë‹ˆë‹¤."</p>
        </header>

        <section class="page-section">
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-indigo-600 text-white font-bold px-3 py-1 rounded-full text-sm">Concept 0</span>
                <h2 class="text-2xl font-bold text-white">RSAì˜ íƒ„ìƒê³¼ ì˜ë¯¸</h2>
            </div>

            <div class="concept-box">
                <h3 class="text-xl font-bold text-white mb-4">Who is RSA?</h3>
                <p class="text-slate-300 mb-6 leading-relaxed">
                    1977ë…„ MITì˜ ì„¸ ëª…ì˜ ê³¼í•™ìê°€ ë°œëª…í–ˆìŠµë‹ˆë‹¤. RSAë¼ëŠ” ì´ë¦„ì€ ê·¸ë“¤ì˜ ì„±(Last Name) ì•ê¸€ìë¥¼ ë”°ì„œ ë§Œë“¤ì—ˆìŠµë‹ˆë‹¤.
                </p>
                <div class="grid grid-cols-3 gap-4 mb-8">
                    <div class="history-card">
                        <strong>R</strong>ivest
                        <span class="text-xs text-slate-400">Ron Rivest</span>
                    </div>
                    <div class="history-card">
                        <strong>S</strong>hamir
                        <span class="text-xs text-slate-400">Adi Shamir</span>
                    </div>
                    <div class="history-card">
                        <strong>A</strong>dleman
                        <span class="text-xs text-slate-400">Leonard Adleman</span>
                    </div>
                </div>

                <div class="bg-black/30 p-6 rounded-xl border border-indigo-500/30">
                    <h4 class="text-lg font-bold text-indigo-300 mb-3">ğŸ”¥ ì™œ í˜ëª…ì ì¸ê°€? (The Problem)</h4>
                    <p class="text-sm text-slate-300 mb-4">
                        ì´ì „ê¹Œì§€ëŠ” <strong>"ì ê·¸ëŠ” ì—´ì‡  = ì—¬ëŠ” ì—´ì‡ "</strong>ì—¬ì„œ ì—´ì‡  ë°°ì†¡ì´ ë¬¸ì œì˜€ìŠµë‹ˆë‹¤.<br>
                        RSAëŠ” <strong>"ì ê·¸ëŠ” í‚¤(ê³µê°œ) â‰  ì—¬ëŠ” í‚¤(ê°œì¸)"</strong>ë¡œ ë¶„ë¦¬í•˜ì—¬ ì´ ë¬¸ì œë¥¼ í•´ê²°í–ˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </section>

        <section class="page-section">
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-blue-600 text-white font-bold px-3 py-1 rounded-full text-sm">Concept 1</span>
                <h2 class="text-2xl font-bold text-white">íŠ¸ë©ë„ì–´ í•¨ìˆ˜ (Trapdoor Function)</h2>
            </div>
            
            <div class="concept-box">
                <div class="grid grid-cols-3 gap-2 text-center text-xs mb-6">
                    <div class="bg-slate-800 p-3 rounded border border-slate-600">
                        <div class="text-blue-400 font-bold mb-1">ğŸƒEveryone</div>
                        <div class="text-slate-400">ê°€ëŠ” ê¸¸ (ì•”í˜¸í™”)</div>
                        <div class="text-lg mt-1">Easy â­•</div>
                    </div>
                    <div class="bg-slate-800 p-3 rounded border border-slate-600">
                        <div class="text-red-400 font-bold mb-1">ğŸ•µï¸ Hacker</div>
                        <div class="text-slate-400">ì˜¤ëŠ” ê¸¸ (í•´í‚¹)</div>
                        <div class="text-lg mt-1">Hard âŒ</div>
                    </div>
                    <div class="bg-slate-800 p-3 rounded border border-yellow-500/50 shadow-[0_0_10px_rgba(234,179,8,0.1)]">
                        <div class="text-yellow-400 font-bold mb-1">ğŸ”‘ Owner</div>
                        <div class="text-slate-400">ë¹„ë°€ í†µë¡œ (ë³µí˜¸í™”)</div>
                        <div class="text-lg mt-1">Easy â­•</div>
                    </div>
                </div>

                <div class="trapdoor-container mb-8">
                    <div class="text-center">
                        <div class="text-blue-400 font-bold mb-2">Easy</div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-blue-500/30">
                            <div class="text-2xl font-mono text-white">p Ã— q</div>
                            <div class="text-sm text-slate-500 mt-1">ë‘ ì†Œìˆ˜ì˜ ê³±ì…ˆ</div>
                        </div>
                    </div>
                    <div class="arrow-anim">â¡</div>
                    <div class="text-center">
                        <div class="text-2xl font-bold text-white font-mono bg-black/30 p-4 rounded-full w-20 h-20 flex items-center justify-center border-2 border-white mx-auto">N</div>
                        <div class="text-xs text-slate-500 mt-2">ê±°ëŒ€í•œ í•©ì„±ìˆ˜</div>
                    </div>
                    <div class="arrow-anim text-red-500">âŒ</div>
                    <div class="text-center opacity-50">
                        <div class="text-red-400 font-bold mb-2">Hard</div>
                        <div class="bg-slate-800 p-4 rounded-lg border border-red-500/30">
                            <div class="text-2xl font-mono text-white">? Ã— ?</div>
                            <div class="text-sm text-slate-500 mt-1">ì†Œì¸ìˆ˜ë¶„í•´</div>
                        </div>
                    </div>
                </div>

                <div class="rsa-context">
                    <h4 class="text-white font-bold mb-2">Q. RSAì—ì„œì˜ íŠ¸ë©ë„ì–´ë€?</h4>
                    <p class="text-sm text-blue-200">
                        í•´ì»¤ëŠ” \(N\)ì„ ë°›ì•„ë„ ì†Œì¸ìˆ˜ë¶„í•´ë¥¼ ëª»í•´ ì©”ì©”ë§¤ì§€ë§Œ,<br>
                        ì£¼ì¸ì€ <strong>"ë‚´ê°€ \(p\)ì™€ \(q\)ë¥¼ ê³±í–ˆë‹¤"</strong>ëŠ” ë¹„ë°€ ì •ë³´(Trapdoor Info)ë¥¼ ì•Œê¸°ì— ì¦‰ì‹œ í‚¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                    </p>
                </div>
            </div>
        </section>

        <section class="page-section">
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-pink-600 text-white font-bold px-3 py-1 rounded-full text-sm">Concept 2</span>
                <h2 class="text-2xl font-bold text-white">ì˜¤ì¼ëŸ¬ í”¼ í•¨ìˆ˜ (Euler's Totient)</h2>
            </div>

            <div class="concept-box">
                <div class="flex md:flex-row flex-col gap-8 mb-8">
                    
                    <div class="flex-1 space-y-6">
                        <div class="bg-slate-800 p-5 rounded-lg border-l-4 border-pink-500">
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-bold text-pink-300">1. ê³µì‹ì˜ ì •ì˜ (The Formula)</h3>
                            </div>
                            <p class="text-sm text-slate-300 mb-4">
                                \(N\)ë³´ë‹¤ ì‘ìœ¼ë©´ì„œ \(N\)ê³¼ <strong>ì„œë¡œì†Œ(Coprime)ì¸ ìˆ˜ì˜ ê°œìˆ˜</strong>ë¥¼ êµ¬í•˜ëŠ” ê³µì‹ì…ë‹ˆë‹¤.<br>
                                ì†Œìˆ˜ \(p, q\)ì˜ ì„±ì§ˆì„ ì´ìš©í•˜ë©´ ì•„ì£¼ ì‰½ê²Œ ê³„ì‚°ë©ë‹ˆë‹¤.
                            </p>
                            <div class="bg-black/40 p-4 rounded-lg text-center border border-slate-700/50">
                                <div class="text-[10px] text-slate-500 mb-1 uppercase tracking-widest">Target: Count VIPs</div>
                                <div class="font-mono text-xl text-white mb-2">
                                    Ï†(N) = <span class="text-pink-400 font-bold">(p-1)</span> Ã— <span class="text-blue-400 font-bold">(q-1)</span>
                                </div>
                                <div class="text-xs text-slate-400 grid grid-cols-2 gap-2 mt-3 border-t border-slate-700/50 pt-2">
                                    <div>
                                        <span class="text-pink-400 font-bold">p-1</span>
                                        <span class="block text-[9px] text-slate-500">pì˜ ë°°ìˆ˜ ì œì™¸</span>
                                    </div>
                                    <div>
                                        <span class="text-blue-400 font-bold">q-1</span>
                                        <span class="block text-[9px] text-slate-500">qì˜ ë°°ìˆ˜ ì œì™¸</span>
                                    </div>
                                </div>
                            </div>
                        </div>

                        <div class="bg-slate-800 p-5 rounded-lg border-l-4 border-purple-500">
                            <div class="flex justify-between items-center mb-3">
                                <h3 class="text-lg font-bold text-purple-300">2. ì™œ ì„œë¡œì†Œë§Œ ì„¸ë‚˜ìš”?</h3>
                            </div>
                            <p class="text-sm text-slate-300 mb-4 leading-relaxed">
                                <strong>"ìœ íš¨í•œ ìˆ«ìë§Œ ê³¨ë¼ë‚´ê¸° ìœ„í•´ì„œì…ë‹ˆë‹¤."</strong>
                            </p>
                            <ul class="space-y-3">
                                <li class="flex gap-3 text-xs text-slate-300">
                                    <span class="flex-shrink-0 w-6 h-6 bg-slate-700 rounded-full flex items-center justify-center font-bold text-white">âŒ</span>
                                    <div>
                                        <strong class="text-red-300 block mb-0.5">ì•½ìˆ˜ê°€ ìˆëŠ” ìˆ˜ (ë¶ˆëŸ‰í’ˆ)</strong>
                                        \(N\)ê³¼ ì•½ìˆ˜ë¥¼ ê³µìœ í•˜ëŠ” ìˆ˜ëŠ” ê³±ì…ˆì˜ <strong>ì—­ì›(Inverse)ì´ ì¡´ì¬í•˜ì§€ ì•Šì•„</strong> ì•”í˜¸í™”/ë³µí˜¸í™” ì—°ì‚°ì„ ë˜ëŒë¦´ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.
                                    </div>
                                </li>
                                <li class="flex gap-3 text-xs text-slate-300">
                                    <span class="flex-shrink-0 w-6 h-6 bg-slate-700 rounded-full flex items-center justify-center font-bold text-white">â­•</span>
                                    <div>
                                        <strong class="text-green-300 block mb-0.5">ì„œë¡œì†Œ (ì •í’ˆ)</strong>
                                        ì˜¤ì§ ì„œë¡œì†Œë“¤ë§Œì´ ì—­ì›ì„ ê°€ì§€ë©°, ì•ˆì „í•˜ê²Œ ìˆ˜í•™ì  ê·¸ë£¹(Group)ì„ í˜•ì„±í•©ë‹ˆë‹¤. ìš°ë¦¬ëŠ” ì´ <span class="text-pink-400 font-bold">\(\phi(N)\)ê°œ</span>ì˜ ìˆ«ìë§Œ ì‚¬ìš©í•©ë‹ˆë‹¤.
                                    </div>
                                </li>
                            </ul>
                        </div>
                    </div>

                    <div class="flex-1 bg-slate-900 p-4 rounded-xl border border-slate-700 flex flex-col h-full">
                        <div class="bg-slate-800 p-3 rounded-lg border border-slate-600 mb-4">
                            <div class="text-center text-[10px] text-slate-400 mb-2 uppercase tracking-widest">Select Primes (p, q)</div>
                            <div class="flex items-end justify-center gap-2">
                                <div class="text-center">
                                    <label class="block text-[10px] text-pink-400 font-bold mb-1">p</label>
                                    <select id="p-input" class="bg-slate-700 text-white text-sm py-1 px-2 rounded border border-pink-500 focus:outline-none text-center w-14" onchange="updateFormula()">
                                        <option value="2">2</option>
                                        <option value="3" selected>3</option>
                                        <option value="5">5</option>
                                    </select>
                                </div>
                                <div class="text-slate-400 font-bold pb-1">Ã—</div>
                                <div class="text-center">
                                    <label class="block text-[10px] text-blue-400 font-bold mb-1">q</label>
                                    <select id="q-input" class="bg-slate-700 text-white text-sm py-1 px-2 rounded border border-blue-500 focus:outline-none text-center w-14" onchange="updateFormula()">
                                        <option value="2">2</option>
                                        <option value="3">3</option>
                                        <option value="5" selected>5</option>
                                        <option value="7">7</option>
                                    </select>
                                </div>
                                <div class="text-slate-400 font-bold pb-1">=</div>
                                <div class="text-center">
                                    <label class="block text-[10px] text-white font-bold mb-1">N</label>
                                    <div id="n-display-box" class="bg-black/50 text-white text-sm py-1 px-3 rounded border border-slate-500 w-14 font-mono font-bold">15</div>
                                </div>
                            </div>
                        </div>

                        <div class="relative flex-grow flex flex-col">
                            <div class="flex justify-between items-center mb-2">
                                <span class="text-[9px] text-slate-500 bg-slate-800 px-2 py-0.5 rounded">Modulo N World</span>
                                <div class="flex gap-2 text-[9px]">
                                    <span class="flex items-center gap-1"><span class="w-2 h-2 rounded-full bg-green-500"></span>Coprime(VIP)</span>
                                    <span class="flex items-center gap-1 opacity-50"><span class="w-2 h-2 rounded-full bg-slate-500"></span>Multiple</span>
                                </div>
                            </div>
                            <div id="totient-grid" class="totient-grid mb-4 content-start min-h-[150px]"></div>
                        </div>
                        
                        <div class="mt-auto bg-slate-800 p-3 rounded border border-slate-600">
                            <div class="flex justify-between items-center text-sm">
                                <div class="text-center w-1/2 border-r border-slate-600">
                                    <div class="text-slate-500 text-xs">Direct Count</div>
                                    <div class="font-bold text-green-400 text-xl" id="count-real">8</div>
                                </div>
                                <div class="text-center w-1/2">
                                    <div class="text-slate-500 text-xs">Formula Result</div>
                                    <div class="font-bold text-white text-xl" id="count-formula">8</div>
                                </div>
                            </div>
                            <div id="match-status" class="text-center text-[10px] font-bold text-green-500 mt-1 uppercase tracking-wider">Matches Perfectly! âœ…</div>
                        </div>
                    </div>
                </div>

                <div class="rsa-context mt-6">
                    <h4 class="text-white font-bold mb-2">Q. ê·¸ë˜ì„œ RSAì—ì„œ ì´ê±¸ ì™œ ì“°ë‚˜ìš”?</h4>
                    <p class="text-sm text-blue-200 mb-2"><strong>"ì•ˆì „í•œ ìš´ë™ì¥ì˜ í¬ê¸°(N)ì™€ ìœ íš¨í•œ ìˆ«ìì˜ ê°œìˆ˜(Ï†)ë¥¼ í™•ë³´"</strong></p>
                    <ul class="list-disc list-inside text-xs text-slate-300 space-y-1">
                        <li>ì´ <span class="text-pink-300 font-bold">ê°œìˆ˜(\(\phi(N)\))</span>ê°€ ë‚˜ì¤‘ì— ìˆ«ìë“¤ì´ ìˆœí™˜í•˜ëŠ” <strong>ì£¼ê¸°(Cycle)</strong>ê°€ ë˜ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (ë‹¤ìŒ ì¥ ì°¸ì¡°)</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="page-section">
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-purple-600 text-white font-bold px-3 py-1 rounded-full text-sm">Concept 3</span>
                <h2 class="text-2xl font-bold text-white">ì˜¤ì¼ëŸ¬ì˜ ì •ë¦¬ (Euler's Theorem)</h2>
            </div>

            <div class="concept-box">
                <div class="flex md:flex-row flex-col gap-8 mb-6">
                    <div class="flex-1">
                        <h3 class="text-lg font-bold text-purple-300 mb-4">ğŸ”„ ê°œìˆ˜(\(\phi\))ê°€ ê³§ ì£¼ê¸°(Period)</h3>
                        
                        <div class="bg-slate-800 p-5 rounded-lg border-l-4 border-purple-500 mb-4">
                            <div class="mb-4 border-b border-slate-700 pb-4">
                                <span class="text-[10px] text-pink-400 font-bold uppercase tracking-wider block mb-2">ğŸ“Œ Logic Flow</span>
                                <p class="text-xs text-slate-300 mb-2">
                                    ìœ í•œí•œ ê³µê°„ì—ì„œ ê³„ì† ì´ë™(ê±°ë“­ì œê³±)í•˜ë©´ ë°˜ë“œì‹œ ì œìë¦¬ë¡œ ëŒì•„ì˜µë‹ˆë‹¤.<br>
                                    ì´ë•Œ <strong>ì œìë¦¬ë¡œ ëŒì•„ì˜¤ëŠ” íšŸìˆ˜</strong>ê°€ ë°”ë¡œ ìœ íš¨í•œ ìˆ«ìì˜ ê°œìˆ˜ <span class="text-pink-400 font-bold">\(\phi(N)\)</span>ì…ë‹ˆë‹¤.
                                </p>
                            </div>
                            <div>
                                <span class="text-[10px] text-purple-400 font-bold uppercase tracking-wider block mb-2">ğŸ¯ ì˜¤ì¼ëŸ¬ì˜ ë§ˆë²• (Theorem)</span>
                                <p class="text-xs text-slate-300 mb-2">
                                    "ì–´ë–¤ ìˆ«ìë“  <strong>ì£¼ê¸°(\(\phi(N)\))ë§Œí¼ ê±°ë“­ì œê³±</strong>í•˜ë©´, ë¬´ì¡°ê±´ <strong>1(ì´ˆê¸°í™”)</strong>ì´ ëœë‹¤."
                                </p>
                                <div class="bg-black/30 p-2 rounded text-center font-mono border border-purple-500/30">
                                    <span class="text-white text-lg">M</span>
                                    <sup class="text-pink-400 font-bold text-sm">Ï†(N)</sup>
                                    <span class="text-slate-500"> â‰¡ </span>
                                    <span class="text-purple-400 font-bold text-xl">1</span>
                                    <span class="text-slate-500 text-xs ml-1">(mod N)</span>
                                </div>
                            </div>
                        </div>

                        <div class="bg-indigo-900/30 p-4 rounded-lg border border-indigo-500/50 text-center">
                            <h4 class="text-indigo-300 font-bold mb-2 text-sm">ğŸ’¡ ì‹œê°í™” ë³´ëŠ” ë²•</h4>
                            <p class="text-xs text-yellow-300">
                                ì‹œë®¬ë ˆì´í„°ì—ì„œ <span class="text-white font-bold">Ï†ë²ˆì§¸ì— 1</span>ì´ ë˜ê³ ,<br>
                                <span class="text-yellow-400 font-bold">Ï†+1ë²ˆì§¸ì— ì›ë˜ ìˆ«ì(M)</span>ë¡œ ëŒì•„ì˜¤ëŠ” ê²ƒì„ í™•ì¸í•˜ì„¸ìš”!
                            </p>
                        </div>
                    </div>

                    <div class="flex-1 bg-slate-900 p-4 rounded-xl border border-slate-700 flex flex-col">
                        <div class="bg-slate-800 p-3 rounded-lg border border-slate-600 mb-4">
                            <div class="text-center text-[10px] text-slate-400 mb-2 uppercase tracking-widest">Change Environment (N, Ï†)</div>
                            <div class="flex items-end justify-center gap-3 border-b border-slate-700 pb-3 mb-3">
                                <div class="text-center">
                                    <label class="block text-[10px] text-pink-400 font-bold mb-1">p</label>
                                    <select id="th-p" class="bg-slate-700 text-white text-sm py-1 px-2 rounded border border-pink-500 focus:outline-none text-center w-14" onchange="updateTheorem()">
                                        <option value="3" selected>3</option>
                                        <option value="5">5</option>
                                        <option value="7">7</option>
                                    </select>
                                </div>
                                <div class="text-center">
                                    <label class="block text-[10px] text-blue-400 font-bold mb-1">q</label>
                                    <select id="th-q" class="bg-slate-700 text-white text-sm py-1 px-2 rounded border border-blue-500 focus:outline-none text-center w-14" onchange="updateTheorem()">
                                        <option value="3">3</option>
                                        <option value="5" selected>5</option>
                                        <option value="7">7</option>
                                    </select>
                                </div>
                                <div class="flex gap-4 ml-2">
                                    <div class="text-center">
                                        <label class="block text-[10px] text-white font-bold mb-1">N</label>
                                        <div id="th-n-display" class="font-mono text-sm font-bold text-white">15</div>
                                    </div>
                                    <div class="text-center">
                                        <label class="block text-[10px] text-purple-400 font-bold mb-1">Ï†(N)</label>
                                        <div id="th-phi-display" class="font-mono text-sm font-bold text-purple-400">8</div>
                                    </div>
                                </div>
                            </div>

                            <div class="flex items-center gap-3">
                                <label class="text-white font-bold text-sm whitespace-nowrap">Message (M):</label>
                                <input type="range" min="2" max="14" value="2" class="w-full accent-purple-500" id="m-slider" oninput="updateTheorem()">
                                <span id="m-val" class="text-purple-400 font-mono font-bold text-xl w-8 text-center">2</span>
                            </div>
                        </div>

                        <div class="flex-grow bg-black/20 rounded-lg p-2 overflow-y-auto max-h-[220px] custom-scrollbar">
                            <table class="w-full text-center text-sm border-collapse">
                                <thead class="text-xs text-slate-500 border-b border-slate-700">
                                    <tr><th class="py-1">Step</th><th class="py-1">Calculation</th><th class="py-1">Result (mod N)</th></tr>
                                </thead>
                                <tbody id="power-table" class="font-mono"></tbody>
                            </table>
                        </div>

                        <div class="mt-4 bg-slate-800 p-3 rounded border border-slate-600">
                            <div class="flex justify-between items-center">
                                <span class="text-xs text-slate-400">At Step <span id="target-step-plus-one" class="font-bold text-yellow-400">9</span> (Ï†+1):</span>
                                <div class="flex items-center gap-2">
                                    <span class="text-slate-500 text-xs">Back to M?</span>
                                    <span id="theorem-status" class="font-bold text-green-400 uppercase">YES âœ…</span>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="rsa-context">
                    <h4 class="text-white font-bold mb-2">Q. ê·¸ë˜ì„œ RSAì—ì„œ ì´ê±¸ ì™œ ì“°ë‚˜ìš”?</h4>
                    <p class="text-sm text-blue-200 mb-2"><strong>"ë³µí˜¸í™”ì˜ ë³´ì¦ìˆ˜í‘œ"</strong></p>
                    <ul class="list-disc list-inside text-xs text-slate-300 space-y-1">
                        <li>ìš°ë¦¬ëŠ” <span class="text-pink-300 font-bold">\(\phi(N)\)ë§Œí¼ ëŒë©´ 1</span>ì´ ë˜ê³ , <span class="text-yellow-400 font-bold">í•œ ë²ˆ ë” ëŒë©´(\(\phi+1\)) ì›ë˜ ìˆ«ì</span>ê°€ ëœë‹¤ëŠ” ê²ƒì„ ëˆˆìœ¼ë¡œ í™•ì¸í–ˆìŠµë‹ˆë‹¤.</li>
                        <li>ì´ì œ <span class="text-yellow-400 font-bold">ë‹¤ìŒ ì¥(Concept 4)</span>ì—ì„œ, ì´ ë²•ì¹™ì„ ì—­ì´ìš©í•´ <strong>ë¹„ë°€í‚¤ \(d\)ë¥¼ ë§Œë“œëŠ” ê³µì‹</strong>ì„ ìœ ë„í•  ê²ƒì…ë‹ˆë‹¤.</li>
                    </ul>
                </div>
            </div>
        </section>

        <section class="page-section">
            <div class="flex items-center gap-3 mb-6">
                <span class="bg-yellow-600 text-white font-bold px-3 py-1 rounded-full text-sm">Concept 4</span>
                <h2 class="text-2xl font-bold text-white">ë¹„ë°€í‚¤ dì˜ íƒ„ìƒ (Key Generation)</h2>
            </div>

            <div class="concept-box">
                <h3 class="text-lg font-bold text-yellow-300 mb-4">"ì˜¤ì¼ëŸ¬ì˜ ì •ë¦¬ë¥¼ ì‘ìš©í•œ í‚¤ ë§Œë“¤ê¸°"</h3>
                <p class="text-slate-300 mb-6 leading-relaxed">
                    ì•ì—ì„œ í™•ì¸í–ˆë“¯ì´ \(M^{\phi(N)+1} \equiv M\)ì…ë‹ˆë‹¤.<br>
                    ìš°ë¦¬ê°€ <span class="text-blue-400">ì•”í˜¸í™”(\(e\))</span>í•˜ê³  <span class="text-purple-400">ë³µí˜¸í™”(\(d\))</span>í•´ì„œ ì›ë˜ ìˆ«ì(\(M^1\))ë¡œ ëŒì•„ì˜¤ë ¤ë©´, ì§€ìˆ˜ë¼ë¦¬ì˜ ê³±(\(e \cdot d\))ì´ <strong>ì£¼ê¸°(\(\phi(N)\))ë³´ë‹¤ ì •í™•íˆ 1ë§Œí¼ ë” í¬ë©´</strong> ë©ë‹ˆë‹¤.
                </p>

                <div class="bg-slate-900 p-6 rounded-xl border border-yellow-500/30 text-center mb-6">
                    <div class="text-xs text-slate-500 mb-2 uppercase tracking-widest">The RSA Key Equation</div>
                    <div class="font-mono text-2xl text-white mb-3">
                        \(e \cdot d \equiv 1 \pmod{\phi(N)}\)
                    </div>
                    <p class="text-sm text-slate-400">
                        "\(e\)ì™€ \(d\)ë¥¼ ê³±í•´ì„œ \(\phi(N)\)ìœ¼ë¡œ ë‚˜ëˆ„ë©´ <strong>ë‚˜ë¨¸ì§€ê°€ 1</strong>ì´ ëœë‹¤."
                        <br><span class="text-xs text-slate-500">(ì¦‰, \(e \cdot d = k \cdot \phi(N) + 1\))</span>
                    </p>
                </div>

                <div class="grid grid-cols-2 gap-4">
                    <div class="bg-black/30 p-4 rounded-lg border border-slate-700">
                        <strong class="text-blue-400 block mb-2">ì™œ eëŠ” ê³µê°œí•´ë„ ë˜ë‚˜ìš”?</strong>
                        <p class="text-xs text-slate-400 leading-relaxed">
                            \(d\)ë¥¼ êµ¬í•˜ë ¤ë©´ ì‹ì˜ ë²•(Modulus)ì¸ <span class="text-pink-400 font-bold">\(\phi(N)\)</span>ì„ ì•Œì•„ì•¼ í•©ë‹ˆë‹¤. 
                            í•˜ì§€ë§Œ í•´ì»¤ëŠ” \(N\)ë§Œ ì•Œì§€, \(N\)ì„ ì†Œì¸ìˆ˜ë¶„í•´í•´ì„œ \(\phi(N)\)ì„ êµ¬í•  ìˆ˜ ì—†ê¸° ë•Œë¬¸ì…ë‹ˆë‹¤. (íŠ¸ë©ë„ì–´)
                        </p>
                    </div>
                    <div class="bg-black/30 p-4 rounded-lg border border-slate-700">
                        <strong class="text-purple-400 block mb-2">dëŠ” ì–´ë–»ê²Œ ê³„ì‚°í•˜ë‚˜ìš”?</strong>
                        <p class="text-xs text-slate-400 leading-relaxed">
                            ìˆ˜í•™ì ìœ¼ë¡œ <strong>í™•ì¥ ìœ í´ë¦¬ë“œ ì•Œê³ ë¦¬ì¦˜</strong>(Extended Euclidean Algorithm)ì„ ì‚¬ìš©í•˜ë©´, 
                            ì´ ë°©ì •ì‹ì„ ë§Œì¡±í•˜ëŠ” \(d\)ë¥¼ íš¨ìœ¨ì ìœ¼ë¡œ ì°¾ì•„ë‚¼ ìˆ˜ ìˆìŠµë‹ˆë‹¤.
                        </p>
                    </div>
                </div>
            </div>
        </section>

        <div class="text-center mt-12">
            <p class="text-slate-500 mb-4">ì´ì œ ëª¨ë“  ì´ë¡ ì„ ë§ˆìŠ¤í„°í–ˆìŠµë‹ˆë‹¤. ì‹¤ì œë¡œ í‚¤ë¥¼ ë§Œë“¤ì–´ë³¼ê¹Œìš”?</p>
            <a href="rsa_basics.html" class="inline-block bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-500 hover:to-purple-500 text-white font-bold py-3 px-8 rounded-full shadow-lg transform transition hover:scale-105">
                ğŸš€ RSA ì‹œë®¬ë ˆì´í„° ì‹¤í–‰í•˜ê¸° (Next Step)
            </a>
        </div>

    </div>

    <script>
        // Common Helper
        const gcd = (a, b) => b === 0 ? a : gcd(b, a % b);

        // --- Concept 2 Logic ---
        function updateFormula() {
            const p = parseInt(document.getElementById('p-input').value);
            const q = parseInt(document.getElementById('q-input').value);
            const n = p * q;

            // Update N Display
            document.getElementById('n-display-box').innerText = n;
            
            const grid = document.getElementById('totient-grid');
            grid.innerHTML = '';
            let count = 0;

            // Generate Grid (1 to N-1)
            for(let i=1; i<n; i++) {
                const el = document.createElement('div');
                el.className = 'num-box text-xs';
                el.innerText = i;
                
                let isCoprime = true;
                
                // Divisibility Checks
                if (i % p === 0) {
                    el.style.backgroundColor = 'rgba(236, 72, 153, 0.2)'; // Pink
                    el.style.color = '#f472b6';
                    el.style.border = '1px solid rgba(236, 72, 153, 0.5)';
                    isCoprime = false;
                } 
                else if (i % q === 0) {
                    el.style.backgroundColor = 'rgba(59, 130, 246, 0.2)'; // Blue
                    el.style.color = '#60a5fa';
                    el.style.border = '1px solid rgba(59, 130, 246, 0.5)';
                    isCoprime = false;
                } 
                if (i % p === 0 && i % q === 0) {
                    el.style.background = 'linear-gradient(135deg, rgba(236,72,153,0.3), rgba(59,130,246,0.3))';
                }

                if (isCoprime) {
                    el.classList.add('num-coprime');
                    count++;
                } else {
                    el.style.opacity = "0.6";
                }
                grid.appendChild(el);
            }
            
            // Verification
            const formulaResult = (p - 1) * (q - 1);
            document.getElementById('count-real').innerText = count;
            document.getElementById('count-formula').innerText = formulaResult;
            
            const status = document.getElementById('match-status');
            if(count === formulaResult) {
                status.innerText = "Matches Perfectly! âœ…";
                status.className = "text-center text-[10px] font-bold text-green-500 mt-1 uppercase tracking-wider";
            } else {
                status.innerText = "Mismatch";
                status.className = "text-center text-[10px] font-bold text-red-500 mt-1 uppercase tracking-wider";
            }
        }

        // --- Concept 3 Logic (Updated to show Phi+1) ---
        function updateTheorem() {
            const p = parseInt(document.getElementById('th-p').value);
            const q = parseInt(document.getElementById('th-q').value);
            
            const n = p * q;
            const phi = (p - 1) * (q - 1);

            // Update Displays
            document.getElementById('th-n-display').innerText = n;
            document.getElementById('th-phi-display').innerText = phi;
            document.getElementById('target-step-plus-one').innerText = phi + 1; // Show phi+1

            const slider = document.getElementById('m-slider');
            const mValDisplay = document.getElementById('m-val');
            const tableBody = document.getElementById('power-table');
            const status = document.getElementById('theorem-status');

            // Update Slider Range
            slider.max = n - 1;
            
            let m = parseInt(slider.value);
            if(m >= n) m = n - 1;
            
            // Auto-skip non-coprime
            let attempts = 0;
            while(gcd(m, n) !== 1 && attempts < n) {
                m++;
                if(m >= n) m = 2;
                attempts++;
            }
            if(attempts >= n) m = 2; 

            slider.value = m;
            mValDisplay.innerText = m;
            
            tableBody.innerHTML = '';
            let isResetTo1 = false;
            let isBackToM = false;

            // Loop until phi + 1
            for(let i=1; i <= phi + 1; i++) {
                const row = document.createElement('tr');
                let modVal = Number((BigInt(m) ** BigInt(i)) % BigInt(n));

                if (i === phi) {
                    row.className = "bg-purple-900/40 border-t border-purple-500/50"; // Highlight Phi (1)
                    if(modVal === 1) isResetTo1 = true;
                } else if (i === phi + 1) {
                    row.className = "bg-yellow-900/40 border-t border-yellow-500/50"; // Highlight Phi+1 (M)
                    if(modVal === m) isBackToM = true;
                } else {
                    row.className = "border-b border-slate-800/50 text-slate-400";
                }

                let stepLabel = i;
                if (i === phi) stepLabel += " (Ï†)";
                if (i === phi + 1) stepLabel += " (Ï†+1)";

                let resultDisplay = modVal;
                if (i === phi) resultDisplay = `<span class="text-purple-400 font-bold text-lg">${modVal}</span>`;
                if (i === phi + 1) resultDisplay = `<span class="text-yellow-400 font-bold text-lg">${modVal}</span>`;

                row.innerHTML = `
                    <td class="py-2 text-slate-500 text-xs">${stepLabel}</td>
                    <td class="py-2 text-xs">${m}<sup>${i}</sup></td>
                    <td class="py-2 font-bold">${resultDisplay}</td>
                `;
                tableBody.appendChild(row);
            }

            if (isBackToM) {
                status.innerText = "YES (Returns to M) âœ…";
                status.className = "font-bold text-green-400 text-xs uppercase";
            } else {
                status.innerText = "NO âŒ";
                status.className = "font-bold text-red-400 text-xs uppercase";
            }
        }

        // Init All
        window.onload = function() {
            updateFormula();
            updateTheorem();
        }
    </script>

    <footer class="bg-slate-950 border-t border-slate-800 py-12 mt-auto">
        <div class="max-w-4xl mx-auto px-6 text-center text-slate-500 text-sm">
            <p class="mb-2">Based on NIST FIPS & C Implementation Analysis</p>
            <p class="mb-4 text-slate-400">&copy; 2026 Interactive Cryptography Master Class. Generated for Educational Purpose.</p>
            
            <div class="flex items-center justify-center gap-2 mt-6 pt-6 border-t border-slate-800">
                <span class="text-slate-500">Created by</span>
                <span class="font-bold text-slate-300">EunChang</span>
                <a href="mailto:focus81@teia.co.kr" class="email-link inline-flex items-center justify-center">
                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 8l7.89 5.26a2 2 0 002.22 0L21 8M5 19h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v10a2 2 0 002 2z"></path></svg>
                </a>
            </div>
        </div>
    </footer>

</body>

</html>
